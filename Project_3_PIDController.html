<!DOCTYPE html>
<html lang="en">
<head>
	<title>Scott Mionis Website :: PID Controller</title>
	<LINK href="mystyle.css" rel="stylesheet" type="text/css">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Scott Mionis">
	<meta name="keywords" content="HTML">
</head>
<body>
	<div id="wrapper">
		<header>
			<h1>PID Motor Controller</h1>
		</header>
		<nav>
			<ul>
			<b>
				<li><a href="index.html">Home</a><br></li> &nbsp;
			</b>
			</ul>
		</nav>
	<main>
		<h2>Project Description</h2>
		<p> In this project, I created three loadable kernel modules for the <span class="Linux">Linux kernel</span>. 
			I could interact with the kernel via the character device driver interface 
			(using the file_operations structure to map my callback functions to file operations). 
			These LKM’s implemented position-tracking based on a quadrature encoder, 
			the direction of the motor, 
			and it generated a configurable PWM signal to send to the motor. 
			I used a Raspberry 2b running Raspbian OS, 
			with a couple IO boards for attaching peripherals.</p>

		<figure>
			<div>
				<p class="aligncenter">
				<img src="Project_3/PID Motor Controller-3.png",alt="Raspberry embedded platform" width=90%>
				<figcaption><i>The Raspberry Pi embedded platform</i></figcaption>
			</div>
		</figure>

		<p>My buddy and I, with the exact same hardware setup, 
			configured our pi’s with different static IP’s, 
			and we created server/client scripts in Python that 
			allowed the motor on one board to set the 
			desired position on the other board. 
			We implemented this simple handshaking via a direct ethernet connection.</p>

		<p>The direction_driver Linux Kernel Module responded to IRQ’s 
			generated by a push button to swap the motor direction 
			(mainly for debugging), allowing the direction to be set in 
			software via the write() file operation.</p>

		<p>The pwm_driver known LKM generated a pwm signal to 
			drive the motor based off of a timer IRQ. 
			The duty cycle could be set via the write() file operation.</p>

		<p>The direction_driver LKM read the quadrature encoders 
			from both an onboard potentiometer 
			and the motor to determine the position of both.</p>

		<p>Using these drivers, I implemented a simple PID motor controller in Python, 
			where I could set the desired position of the motor 
			on a potentiometer and then manually offset the motor 
			to see how accurately/swiftly it settles on the desired position.</p>
	</main>
	<footer>
		<small><i>Copyright &copy; 2023 Scott Mionis
	</footer>
	</div>
</body>

</html>